---
import Logo from '../components/Logo.astro';
import { Image } from 'astro:assets';
import burgerIcon from '../assets/images/300res_Tinscarecrow.png';
---


<header>
    <div class="burger-menu" id="burger">
        <Image src={burgerIcon} alt="Menu icon" />
    </div>
    <nav id="mobileMenu" class="mobile-nav hidden">
        <div class="spine-container">
            <a href="/" class="book-spine gold-embossed">Home</a>
            <a href="/archive" class="book-spine gold-embossed">Archive</a>
	    <a href="/artifacts" class="book-spine gold-embossed">Artifacts</a>
            <a href="/codex" class="book-spine gold-embossed">Codex</a>
            <a href="/recipes" class="book-spine gold-embossed">Recipes</a>
        </div>
    </nav>


    <script>
     document.addEventListener('DOMContentLoaded', () => {
	 const burger = document.getElementById('burger');
	 const menu = document.getElementById('mobileMenu');

	 if (burger && menu) {
	     // Toggle on click (mobile + desktop)
	     burger.addEventListener('click', () => {
		 menu.classList.toggle('hidden');
	     });

	     // Hover reveal (desktop only)
	     burger.addEventListener('mouseover', () => {
		 menu.classList.remove('hidden');
	     });

	     burger.addEventListener('mouseout', () => {
		 setTimeout(() => {
		     if (!menu.matches(':hover')) {
			 menu.classList.add('hidden');
		     }
		 }, 300);
	     });

	     // Hide when leaving the menu (desktop)
	     menu.addEventListener('mouseleave', () => {
		 menu.classList.add('hidden');
	     });
	 }
     });
    </script>
</header>

